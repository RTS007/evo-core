# EVO HAL Machine Configuration
# This is the main configuration file for the HAL system.

# Cycle time in microseconds (1000 = 1ms)
cycle_time_us = 1000

# State persistence file (relative to config directory)
state_file = "state/hal_state.bin"

# Drivers to load (use "simulation" for development)
drivers = ["simulation"]

# Axis configuration files (relative paths from this config directory)
axes = [
    "axes/axis_x.toml",
    "axes/axis_y.toml",
    "axes/axis_z.toml"
]

# Shared/general settings
[shared]
name = "example_machine"
log_level = "info"

# Digital Inputs
[[digital_inputs]]
name = "emergency_stop"
description = "Emergency stop button (NC)"
invert = true

[[digital_inputs]]
name = "door_closed"
description = "Safety door sensor"
invert = false

[[digital_inputs]]
name = "part_present"
description = "Part presence sensor"
invert = false

# Digital Outputs
[[digital_outputs]]
name = "ready_lamp"
description = "Ready indicator lamp"
invert = false

[[digital_outputs]]
name = "error_lamp"
description = "Error indicator lamp"
invert = false

[[digital_outputs]]
name = "spindle_enable"
description = "Spindle motor enable"
invert = false

# Analog Inputs
[[analog_inputs]]
name = "spindle_speed"
description = "Spindle speed feedback"
min_raw = 0.0
max_raw = 32767.0
min_scaled = 0.0
max_scaled = 24000.0
unit = "RPM"
curve_type = "Linear"

[[analog_inputs]]
name = "temperature"
description = "Machine temperature sensor"
min_raw = 0.0
max_raw = 4095.0
min_scaled = -40.0
max_scaled = 200.0
unit = "Â°C"
curve_type = "Linear"

# Analog Outputs
[[analog_outputs]]
name = "spindle_speed_cmd"
description = "Spindle speed command"
min_raw = 0.0
max_raw = 32767.0
min_scaled = 0.0
max_scaled = 24000.0
unit = "RPM"
curve_type = "Linear"
